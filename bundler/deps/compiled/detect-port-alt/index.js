(()=>{"use strict";var e={610:(e,r,t)=>{e.exports=t(672)},672:(e,r,t)=>{const n=t(343)("detect-port");const s=t(631);const i=t(468);e.exports=(e,r,t)=>{if(typeof e==="function"){t=e;e=null}else if(typeof r==="function"){t=r;r=null}e=parseInt(e)||0;let s=e+10;if(s>65535){s=65535}n("detect free port between [%s, %s)",e,s);if(typeof t==="function"){return tryListen(r,e,s,t)}return new Promise(((t,n)=>{tryListen(r,e,s,((e,r)=>{if(e){n(e)}else{t(r)}}))}))};function tryListen(e,r,t,s){function handleError(){r++;if(r>=t){n("port: %s >= maxPort: %s, give up and use random port",r,t);r=0;t=0}tryListen(e,r,t,s)}listen(r,e,((e,t)=>{if(r===0){return s(e,t)}if(e){return handleError(e)}listen(r,null,(e=>{if(e){return handleError(e)}listen(r,"localhost",(e=>{if(e){return handleError(e)}let n;try{n=i.ip()}catch(e){return s(null,t)}listen(r,n,((e,r)=>{if(e){return handleError(e)}s(null,r)}))}))}))}))}function listen(e,r,t){const i=new s.Server;i.on("error",(s=>{n("listen %s:%s error: %s",r,e,s);i.close();if(s.code==="ENOTFOUND"){n("ignore dns ENOTFOUND error, get free %s:%s",r,e);return t(null,e)}return t(s)}));i.listen(e,r,(()=>{e=i.address().port;i.close();n("get free %s:%s",r,e);return t(null,e)}))}},468:e=>{e.exports=require("@effect-x/deps/compiled/address")},343:e=>{e.exports=require("@effect-x/deps/compiled/debug")},631:e=>{e.exports=require("net")}};var r={};function __nccwpck_require__(t){var n=r[t];if(n!==undefined){return n.exports}var s=r[t]={exports:{}};var i=true;try{e[t](s,s.exports,__nccwpck_require__);i=false}finally{if(i)delete r[t]}return s.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var t=__nccwpck_require__(610);module.exports=t})();